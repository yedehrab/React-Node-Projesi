{"version":3,"sources":["../../../lib/handlers/asset.js"],"names":["asset","data","callback","method","toLowerCase","assetName","trimmedPath","trim","length","err","templateString","Info","Detail"],"mappings":";;;;;QAagBA,K,GAAAA,K;;AAbhB;;AAEA;;;;;;;;;;;AAWO,SAASA,KAAT,CAAeC,IAAf,EAAqBC,QAArB,EAA+B;AAClC;AACA,QAAID,KAAKE,MAAL,CAAYC,WAAZ,MAA6B,KAAjC,EAAwC;AACpC;AACA,cAAMC,YAAYJ,KAAKK,WAAL,CAAiBC,IAAjB,EAAlB;AACA,YAAIF,UAAUG,MAAV,GAAmB,CAAvB,EAA0B;AACtB,2CAAeH,SAAf,EAA0B,CAACI,GAAD,EAAMT,KAAN,KAAgB;AACtC,oBAAI,CAACS,GAAD,IAAQT,KAAZ,EAAmB;AACf;AACAE,6BAAS,GAAT,EAAcF,KAAd,EAAqB,kCAAkBK,SAAlB,CAArB;AACH,iBAHD,MAGO;AACH;AACA,gDAAY,UAAZ,EAAwB,CAACI,GAAD,EAAMC,cAAN,KAAyB;AAC7C,4BAAI,CAACD,GAAD,IAAQC,cAAZ,EAA4B;AACxB;AACAR,qCAAS,GAAT,EAAcQ,cAAd,EAA8B,MAA9B;AACH,yBAHD,MAGO;AACHR,qCAAS,GAAT,EAAc;AACVS,sCAAM,wDADI;AAEVC,wCAAQH;AAFE,6BAAd;AAIH;AACJ,qBAVD;AAWH;AACJ,aAlBD;AAmBH,SApBD,MAoBO;AACHP,qBAAS,GAAT,EAAc;AACVS,sBAAM;AADI,aAAd,EAEG,MAFH;AAGH;AACJ,KA5BD,MA4BO;AACHT,iBAAS,GAAT,EAAc;AACVS,kBAAM;AADI,SAAd,EAEG,MAFH;AAGH;AACJ","file":"asset.js","sourcesContent":["import { getStaticAsset, figureContentType, getTemplate } from '../helpers/templates';\r\n\r\n/**\r\n * Örnek: localhost:3000/indeks yazıldığında bu fonksiyon çalışır.\r\n *\r\n * Not: ornek, yönlendirici 'nin bir objesidir.\r\n *\r\n * @param {object} data Index.js'te tanımlanan veri objesidir. İstekle gelir.\r\n * @param {function(number, string, string):void} callback İşlemler bittiği zaman verilen yanıt\r\n ** arg0: HTTP varsayılan durum kodları\r\n ** arg0: HTTP yanıtı veya tanımsızlık\r\n ** arg1: İçerik tipi (Content-type) [http, json vs.]\r\n */\r\nexport function asset(data, callback) {\r\n    // Sadece get metodu ile çalışacağız\r\n    if (data.method.toLowerCase() == 'get') {\r\n        // İstenilen dosya ismini kırpılmış yoldan alma\r\n        const assetName = data.trimmedPath.trim();\r\n        if (assetName.length > 0) {\r\n            getStaticAsset(assetName, (err, asset) => {\r\n                if (!err && asset) {\r\n                    // İçerik türüne karar verme ve geri çağırma\r\n                    callback(200, asset, figureContentType(assetName));\r\n                } else {\r\n                    // Düzenlenecek\r\n                    getTemplate('notFound', (err, templateString) => {\r\n                        if (!err && templateString) {\r\n                            // Sayfayı html olarak geri döndürme\r\n                            callback(200, templateString, 'html');\r\n                        } else {\r\n                            callback(500, {\r\n                                Info: 'Sayfa bulunamadı sayfası alınırken bir hata oluştur :(',\r\n                                Detail: err\r\n                            })\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        } else {\r\n            callback(404, {\r\n                Info: 'İstenen dosya ismi geçersiz veya bulunamadı :('\r\n            }, 'json');\r\n        }\r\n    } else {\r\n        callback(405, {\r\n            Info: 'İstekle gelen metot hatalıdır :('\r\n        }, 'json');\r\n    }\r\n}"]}