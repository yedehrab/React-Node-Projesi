{"version":3,"sources":["../../../lib/handlers/api.js"],"names":["api","data","callback","_validMethods","includes","method","toLowerCase","apiProcess","trimmedPath","replace","trim","length","_functions","Info","Detail","users","createUser","findUser","updateUser","deleteUser","tokens","createToken","findToken","updateToken","deleteToken"],"mappings":";;;;;QAYgBA,G,GAAAA,G;;AAXhB;;AACA;;AAEA;;;;;;;;AAJA;AAYO,SAASA,GAAT,CAAaC,IAAb,EAAmBC,QAAnB,EAA6B;AAChC;AACA,QAAIC,cAAcC,QAAd,CAAuBH,KAAKI,MAAL,CAAYC,WAAZ,EAAvB,CAAJ,EAAuD;AACnD;AACA,cAAMC,aAAaN,KAAKO,WAAL,CAAiBC,OAAjB,CAAyB,MAAzB,EAAiC,EAAjC,EAAqCC,IAArC,EAAnB;AACA,YAAIH,WAAWI,MAAX,GAAoB,CAAxB,EAA2B;AACvB;AACAC,uBAAWL,UAAX,EAAuBN,KAAKI,MAAL,CAAYC,WAAZ,EAAvB,EAAkDL,IAAlD,EAAwDC,QAAxD;AACH,SAHD,MAGO;AACHA,qBAAS,GAAT,EAAc;AACVW,sBAAM;AADI,aAAd;AAGH;AACJ,KAXD,MAWO;AACH;AACAX,iBAAS,GAAT,EAAc;AACVW,kBAAM,yCADI;AAEVC,oBAAQ;AAFE,SAAd;AAIH;AACJ;;AAED,MAAMX,gBAAgB,CAClB,MADkB,EAElB,KAFkB,EAGlB,KAHkB,EAIlB,QAJkB,CAAtB;;AAOA,MAAMS,aAAa;AACfG,WAAO;AACH,gBAAQC,iBADL;AAEH,eAAOC,eAFJ;AAGH,eAAOC,iBAHJ;AAIH,kBAAUC;AAJP,KADQ;AAOfC,YAAQ;AACJ,gBAAQC,mBADJ;AAEJ,eAAOC,iBAFH;AAGJ,eAAOC,mBAHH;AAIJ,kBAAUC;AAJN;AAPO,CAAnB","file":"api.js","sourcesContent":["// Bağımlılıklar \r\nimport { createUser, findUser, updateUser, deleteUser } from \"./api/users\";\r\nimport { createToken, findToken, updateToken, deleteToken } from \"./api/tokens\";\r\n\r\n/**\r\n * Arkaplan işleyicileri, kullanıcı işlemleri için metot\r\n *\r\n * @param {object} data Index.js\"te tanımlanan veri objesidir. İstekle gelir.\r\n * @param {function(number, object):void} callback İşlemler bittiği zaman verilen yanıt\r\n ** arg0: HTTP varsayılan durum kodları\r\n ** arg1: Ek bilgiler, açıklamalar {Info, ?Detail}\r\n */\r\nexport function api(data, callback) {\r\n    // Kabul edilen metotlardan biri mi kontrolü\r\n    if (_validMethods.includes(data.method.toLowerCase())) {\r\n        // İstenilen dosya ismini kırpılmış yoldan alma\r\n        const apiProcess = data.trimmedPath.replace('api/', '').trim();\r\n        if (apiProcess.length > 0) {\r\n            // Uygun ise gerekli işleme aktarma\r\n            _functions[apiProcess][data.method.toLowerCase()](data, callback);\r\n        } else {\r\n            callback(404, {\r\n                Info: 'İstenen api işlemi geçersiz veya bulunamadı :('\r\n            });\r\n        }\r\n    } else {\r\n        // Uygun değilse hata döndürme\r\n        callback(405, {\r\n            Info: \"HTML isteğinin metodu uygun değildir :(\",\r\n            Detail: \"handlers/back-end/users\"\r\n        })\r\n    }\r\n}\r\n\r\nconst _validMethods = [\r\n    'post',\r\n    'get',\r\n    'put',\r\n    'delete'\r\n]\r\n\r\nconst _functions = {\r\n    users: {\r\n        'post': createUser,\r\n        'get': findUser,\r\n        'put': updateUser,\r\n        'delete': deleteUser\r\n    },\r\n    tokens: {\r\n        'post': createToken,\r\n        'get': findToken,\r\n        'put': updateToken,\r\n        'delete': deleteToken\r\n    }\r\n}"]}