{"version":3,"sources":["../../../lib/handlers/template.js"],"names":["template","data","callback","method","toLowerCase","templateName","trimmedPath","err","templateString","Info","Detail","_keysDatas","index","notFound"],"mappings":";;;;;QAYgBA,Q,GAAAA,Q;;AAZhB;;AAEA;;;;;;;;;;AAUO,SAASA,QAAT,CAAkBC,IAAlB,EAAwBC,QAAxB,EAAkC;AACrC,QAAID,KAAKE,MAAL,CAAYC,WAAZ,MAA6B,KAAjC,EAAwC;AACpC;AACA,cAAMC,eAAeJ,KAAKK,WAAL,IAAoB,EAApB,GAAyB,OAAzB,GAAmCL,KAAKK,WAA7D;;AAEA;AACA,wCAAgBD,YAAhB,EAA8B,CAACE,GAAD,EAAMC,cAAN,KAAyB;AACnD,gBAAI,CAACD,GAAD,IAAQC,cAAZ,EAA4B;AACxB;AACAN,yBAAS,GAAT,EAAcM,cAAd,EAA8B,MAA9B;AACH,aAHD,MAGO;AACH;AACA,4CAAY,UAAZ,EAAwB,CAACD,GAAD,EAAMC,cAAN,KAAyB;AAC7C,wBAAI,CAACD,GAAD,IAAQC,cAAZ,EAA4B;AACxB;AACAN,iCAAS,GAAT,EAAcM,cAAd,EAA8B,MAA9B;AACH,qBAHD,MAGO;AACHN,iCAAS,GAAT,EAAc;AACVO,kCAAM,wDADI;AAEVC,oCAAQH;AAFE,yBAAd;AAIH;AACJ,iBAVD;AAWH;AACJ,SAlBD;AAmBH,KAxBD,MAwBO;AACHL,iBAAS,GAAT,EAAc;AACVO,kBAAM,kCADI;AAEVC,oBAAS,UAAST,KAAKE,MAAO,KAAIF,KAAKK,WAAY;AAFzC,SAAd,EAGG,MAHH;AAIH;AACJ;;AAED,MAAMK,aAAa;AACfC,WAAO;AACH,sBAAc,WADX;AAEH,uBAAe,OAFZ;AAGH,4BAAoB;AAHjB,KADQ;AAMfC,cAAU;AACN,sBAAc,qBADR;AAEN,4BAAoB;AAFd,KANK;AAUf,sBAAkB;AACd,sBAAc,eADA;AAEd,uBAAe,gBAFD;AAGd,4BAAoB;AAHN,KAVH;AAef,sBAAkB;AACd,sBAAc,gBADA;AAEd,uBAAe,gBAFD;AAGd,4BAAoB;AAHN;AAfH,CAAnB","file":"template.js","sourcesContent":["import { getFullTemplate, getTemplate } from \"../helpers/templates\";\r\n\r\n/**\r\n * Site kalıplarının işleyicisi \r\n * Örnek: *localhost:3000/<templateName> yazıldığında bu fonksiyon çalışır.*\r\n * Not: *templateName, adres çubuğuna yazılan kalıp ismidir. (index, account/create)*\r\n * @param {object} data Index.js\"te tanımlanan veri objesidir. İstekle gelir.\r\n * @param {function(number, string, string):void} callback İşlemler bittiği zaman verilen yanıt\r\n ** arg0: HTTP varsayılan durum kodları\r\n ** arg0: HTTP yanıtı veya ilgili ek açıklamalar {Info, Detail?}\r\n ** arg1: İçerik tipi (Content-type) [http, json vs.]\r\n */\r\nexport function template(data, callback) {\r\n    if (data.method.toLowerCase() == 'get') {\r\n        // Kalıp ismini ayarlama\r\n        const templateName = data.trimmedPath == '' ? 'index' : data.trimmedPath;\r\n\r\n        // Tam sayfayı almak\r\n        getFullTemplate(templateName, (err, templateString) => {\r\n            if (!err && templateString) {\r\n                // Sayfayı html olarak geri döndürme\r\n                callback(200, templateString, 'html');\r\n            } else {\r\n                // Düzenlenecek\r\n                getTemplate('notFound', (err, templateString) => {\r\n                    if (!err && templateString) {\r\n                        // Sayfayı html olarak geri döndürme\r\n                        callback(200, templateString, 'html');\r\n                    } else {\r\n                        callback(500, {\r\n                            Info: 'Sayfa bulunamadı sayfası alınırken bir hata oluştur :(', \r\n                            Detail: err\r\n                        })\r\n                    }\r\n                }); \r\n            }\r\n        });\r\n    } else {\r\n        callback(405, {\r\n            Info: 'İstekle gelen metot hatalıdır :(',\r\n            Detail: `Metot: ${data.method} /${data.trimmedPath}`\r\n        }, 'json');\r\n    }\r\n}\r\n\r\nconst _keysDatas = {\r\n    index: {\r\n        'head.title': \"Elo Boost\",\r\n        'head.script': 'index',\r\n        'body.description': 'Ucuz ve bağımsız elo boost hizmeti'\r\n    },\r\n    notFound: {\r\n        'head.title': 'Sayfa bulunamadı :(',\r\n        'body.description': 'Yanlış yerlerde geziyorsun'\r\n    },\r\n    'account/create': {\r\n        'head.title': \"Hesap Oluştur\",\r\n        'head.script': 'account/create',\r\n        'body.description': 'Ücretsiz hesap oluşturma',\r\n    },\r\n    'session/create': {\r\n        'head.title': \"Oturum Oluştur\",\r\n        'head.script': 'session/create',\r\n        'body.description': 'Ücretsiz hesap oluşturma',\r\n    }\r\n}"]}